flowchart TD
    Start([Start Data Integration]) --> DefSource[Define Source Connector]
    
    DefSource --> SourceType{Source Type?}
    
    SourceType -->|Database| DB[Configure Database<br/>PostgreSQL, MySQL, etc.]
    SourceType -->|API| API[Configure API<br/>REST, GraphQL]
    SourceType -->|File| File[Configure File<br/>CSV, JSON, Parquet]
    SourceType -->|Cloud| Cloud[Configure Cloud<br/>S3, GCS, Azure Blob]
    
    DB --> TestSource[Test Source Connection]
    API --> TestSource
    File --> TestSource
    Cloud --> TestSource
    
    TestSource --> SourceOK{Connection OK?}
    SourceOK -->|No| FixSource[Fix Configuration]
    FixSource --> TestSource
    SourceOK -->|Yes| DefDest[Define Destination]
    
    DefDest --> DestType{Destination?}
    DestType -->|MinIO S3| S3[Configure MinIO<br/>Bronze Layer]
    DestType -->|PostgreSQL| PG[Configure PostgreSQL<br/>Raw Schema]
    DestType -->|Warehouse| DW[Configure Warehouse<br/>Snowflake, BigQuery]
    
    S3 --> TestDest[Test Destination Connection]
    PG --> TestDest
    DW --> TestDest
    
    TestDest --> DestOK{Connection OK?}
    DestOK -->|No| FixDest[Fix Configuration]
    FixDest --> TestDest
    DestOK -->|Yes| CreateConn[Create Connection]
    
    CreateConn --> ConfigSync[Configure Sync]
    ConfigSync --> SelectStreams[Select Streams/Tables]
    SelectStreams --> SyncMode{Sync Mode?}
    
    SyncMode -->|Full Refresh| FullRefresh[Full Refresh<br/>Overwrite]
    SyncMode -->|Incremental| Incremental[Incremental Append<br/>Cursor Field]
    SyncMode -->|CDC| CDC[Change Data Capture<br/>Real-time Changes]
    
    FullRefresh --> Schedule[Set Schedule]
    Incremental --> Schedule
    CDC --> Schedule
    
    Schedule --> ScheduleType{When to Sync?}
    ScheduleType -->|Manual| Manual[Manual Trigger Only]
    ScheduleType -->|Scheduled| Scheduled[Cron Schedule<br/>e.g., Every 6 hours]
    ScheduleType -->|Continuous| Continuous[Real-time CDC]
    
    Manual --> SaveConn[Save Connection]
    Scheduled --> SaveConn
    Continuous --> SaveConn
    
    SaveConn --> TriggerSync[Trigger First Sync]
    TriggerSync --> Monitor[Monitor Job Progress]
    
    Monitor --> JobStatus{Job Status?}
    JobStatus -->|Running| Wait[Wait for Completion]
    Wait --> Monitor
    JobStatus -->|Success| ValidateData[Validate Data in Destination]
    JobStatus -->|Failed| CheckLogs[Check Error Logs]
    
    CheckLogs --> DebugIssue{Can Fix?}
    DebugIssue -->|Yes| FixIssue[Fix Issue]
    FixIssue --> TriggerSync
    DebugIssue -->|No| Escalate[Escalate to Team]
    
    ValidateData --> DataOK{Data Valid?}
    DataOK -->|No| InvestigateData[Investigate Data Issue]
    InvestigateData --> FixIssue
    DataOK -->|Yes| EnableSchedule[Enable Schedule]
    
    EnableSchedule --> MonitorProd[Monitor Production Syncs]
    MonitorProd --> End([Complete])
    
    style Start fill:#4CAF50,color:#fff
    style End fill:#4CAF50,color:#fff
    style TestSource fill:#2196F3,color:#fff
    style TestDest fill:#2196F3,color:#fff
    style TriggerSync fill:#FF9800,color:#fff
    style ValidateData fill:#9C27B0,color:#fff
    style CheckLogs fill:#f44336,color:#fff
