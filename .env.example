# ========================================
# DREMIO + DBT + OPENMETADATA - ENVIRONMENT CONFIGURATION
# ========================================
# 
# This is a template file. Copy it to .env and fill in your values:
#   cp .env.example .env
#
# WARNING: Never commit .env to git! It contains sensitive credentials.
#
# Version: 3.2.5
# Last Updated: October 16, 2025
# ========================================

# ===== POSTGRESQL =====
# Primary database for metadata and analytics

POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme_postgres_password_here
POSTGRES_DB=business_db
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Additional databases (optional)
POSTGRES_AIRFLOW_DB=airflow_db
POSTGRES_OPENMETADATA_DB=openmetadata_db
POSTGRES_SUPERSET_DB=superset_db

# ===== DREMIO =====
# Data lakehouse platform

DREMIO_VERSION=24.3.2
DREMIO_HOST=localhost

# Admin credentials (CHANGE IN PRODUCTION!)
DREMIO_ADMIN_USER=admin
DREMIO_ADMIN_PASSWORD=changeme_dremio_admin_password

# Ports
DREMIO_REST_PORT=9047                    # REST API & Web UI
DREMIO_ODBC_JDBC_PORT=31010              # PostgreSQL Wire Protocol
DREMIO_FLIGHT_PORT=32010                 # Apache Arrow Flight

# Memory settings (adjust based on your system)
DREMIO_JAVA_OPTS=-Xms4g -Xmx8g

# ===== DBT =====
# Data transformation tool

DBT_PROFILES_DIR=./dbt
DBT_TARGET=dev
DBT_THREADS=4

# dbt Cloud (optional)
DBT_CLOUD_API_KEY=your_dbt_cloud_api_key_here
DBT_CLOUD_ACCOUNT_ID=your_account_id

# ===== OPENMETADATA =====
# Metadata management and data discovery

OPENMETADATA_VERSION=1.2.0
OPENMETADATA_HOST=localhost
OPENMETADATA_PORT=8585

# Admin credentials (CHANGE IN PRODUCTION!)
OPENMETADATA_ADMIN_USER=admin
OPENMETADATA_ADMIN_EMAIL=admin@yourdomain.com
OPENMETADATA_ADMIN_PASSWORD=changeme_openmetadata_password

# JWT Token for API access
# Generate with: openssl rand -base64 32
OPENMETADATA_JWT_TOKEN=your_jwt_token_here_replace_with_real_token

# Database connection
OPENMETADATA_DB_HOST=localhost
OPENMETADATA_DB_PORT=5432
OPENMETADATA_DB_USER=openmetadata_user
OPENMETADATA_DB_PASSWORD=changeme_openmetadata_db_password
OPENMETADATA_DB_NAME=openmetadata_db

# ===== MINIO =====
# S3-compatible object storage

MINIO_VERSION=latest
MINIO_HOST=localhost
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# Root credentials (CHANGE IN PRODUCTION!)
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=changeme_minio_root_password

# Default bucket
MINIO_DEFAULT_BUCKET=dremio-data

# ===== SUPERSET (OPTIONAL) =====
# Business intelligence and visualization

SUPERSET_VERSION=latest
SUPERSET_HOST=localhost
SUPERSET_PORT=8088

# Admin credentials (CHANGE IN PRODUCTION!)
SUPERSET_ADMIN_USER=admin
SUPERSET_ADMIN_EMAIL=admin@yourdomain.com
SUPERSET_ADMIN_PASSWORD=changeme_superset_password

# Secret key for sessions (generate with: openssl rand -base64 42)
SUPERSET_SECRET_KEY=your_secret_key_here_at_least_42_characters_long

# Database
SUPERSET_DB_HOST=localhost
SUPERSET_DB_PORT=5432
SUPERSET_DB_USER=superset_user
SUPERSET_DB_PASSWORD=changeme_superset_db_password
SUPERSET_DB_NAME=superset_db

# ===== AIRBYTE (OPTIONAL) =====
# Data integration platform

AIRBYTE_VERSION=latest
AIRBYTE_HOST=localhost
AIRBYTE_PORT=8000

# Database
AIRBYTE_DB_HOST=localhost
AIRBYTE_DB_PORT=5432
AIRBYTE_DB_USER=airbyte_user
AIRBYTE_DB_PASSWORD=changeme_airbyte_db_password
AIRBYTE_DB_NAME=airbyte_db

# ===== ELASTICSEARCH (OPTIONAL) =====
# Search and analytics engine

ELASTIC_VERSION=8.11.0
ELASTIC_HOST=localhost
ELASTIC_PORT=9200

# Credentials (CHANGE IN PRODUCTION!)
ELASTIC_PASSWORD=changeme_elastic_password

# Cluster settings
ELASTIC_CLUSTER_NAME=openmetadata-cluster
ELASTIC_NODE_NAME=openmetadata-node

# ===== APPLICATION SETTINGS =====

# Environment
NODE_ENV=development
DEBUG=false
LOG_LEVEL=info

# Timezone
TZ=UTC

# Language (for documentation)
# Supported: fr, en, es, pt, cn, jp, ru, ar, de, ko, hi, id, tr, vi, it, nl, pl, se
DEFAULT_LANGUAGE=en

# ===== SECURITY =====

# Enable SSL/TLS (recommended for production)
ENABLE_SSL=false
SSL_CERT_PATH=./certs/cert.pem
SSL_KEY_PATH=./certs/key.pem

# JWT Settings
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRATION=86400

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# ===== NETWORK =====

# Docker network
DOCKER_NETWORK=dremio-network

# Expose to external network (false = localhost only)
EXPOSE_EXTERNAL=false

# ===== BACKUP =====

# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=./backups

# ===== MONITORING (OPTIONAL) =====

# Prometheus
PROMETHEUS_ENABLED=false
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_ENABLED=false
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme_grafana_password

# ===== DEVELOPMENT =====

# Development mode (enables hot reload, verbose logging)
DEV_MODE=false

# Sample data (for testing)
LOAD_SAMPLE_DATA=false

# ========================================
# QUICK START GUIDE
# ========================================
#
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Generate secure passwords:
#    openssl rand -base64 32
#
# 3. Update all "changeme_*" values
#
# 4. Generate JWT tokens:
#    openssl rand -base64 42
#
# 5. Start services:
#    docker-compose up -d
#
# 6. Access UIs:
#    Dremio:       http://localhost:9047
#    OpenMetadata: http://localhost:8585
#    MinIO:        http://localhost:9001
#    Superset:     http://localhost:8088
#
# ========================================
# SECURITY CHECKLIST
# ========================================
#
# ✅ Changed all default passwords
# ✅ Generated unique JWT tokens
# ✅ Set strong SUPERSET_SECRET_KEY
# ✅ Verified .env is in .gitignore
# ✅ Enabled SSL for production
# ✅ Configured firewall rules
# ✅ Limited network exposure
# ✅ Enabled backup strategy
#
# See SECURITY.md for more information
# ========================================
